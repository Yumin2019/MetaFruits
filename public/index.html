<!DOCTYPE html>
<html>
  <head>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/phaser-matter-collision-plugin"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="/index.js"></script>
  </head>

  <style>
    #game-root {
      position: relative;
    }

    /* Ï±ÑÌåÖ Ï†ÑÏ≤¥ ÏòÅÏó≠ */
    .msger {
      display: flex;
      flex-flow: column wrap;
      justify-content: space-between;
      width: 304px;
      height: 300px;
      border: var(--border);
      border-radius: 5px;
      background: white;
      box-shadow: 0 15px 15px -5px rgba(0, 0, 0, 0.2);
      left: 24px;
      bottom: 16px;
      position: absolute;
      z-index: 100;
    }

    /* Ï±ÑÌåÖ ÏòÅÏó≠ style */
    .msger-chat {
      overflow: auto;
      height: 239px;
    }

    /* Ï±ÑÌåÖ ÏòÅÏñµ scrollbar */
    .msger-chat::-webkit-scrollbar {
      width: 10px;
    }

    .msger-chat::-webkit-scrollbar-thumb {
      background-color: rgb(162, 162, 162);
      border-radius: 10px;
      background-clip: padding-box;
      border: 2px solid transparent;
    }

    .msger-chat::-webkit-scrollbar-track {
      background-color: rgb(207, 207, 207);
      border-radius: 10px;
      box-shadow: inset 0px 0px 5px white;
    }

    /* Ï±ÑÌåÖ text style */
    .msger-text {
      padding: 4px 8px;
      max-width: 304px;
      font-size: 14px;
      word-break: break-all;
    }

    /* ÏûÖÎ†• ÌïòÎäî Í≥µÍ∞Ñ container */
    .msger-inputarea {
      display: flex;
      padding: 10px;
      border-top: var(--border);
      background: #eee;
    }

    .msger-inputarea * {
      padding: 10px;
      border: none;
      border-radius: 3px;
      font-size: 1em;
    }

    .msger-input {
      flex: 1;
      background: #ddd;
    }

    .msger-change-btn {
      margin-right: 10px;
      background: rgb(0, 200, 255);
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.23s;
    }

    .msger-change-btn:hover {
      background: rgb(0, 145, 255);
    }

    /* Îã´Í∏∞ Î≤ÑÌäº */
    .close {
      width: 28px;
      height: 28px;
      position: absolute;
      right: 0px;
    }
  </style>

  <style>
    /* Ï¢åÏ∏° ÌïòÎã® floating Î≤ÑÌäº */
    .chatting-enable button {
      background-color: #48abe0;
      color: white;
      border: none;
      padding: 5px;
      font-size: 32px;
      height: 64px;
      width: 64px;
      box-shadow: 0 2px 4px darkslategray;
      cursor: pointer;
      transition: all 0.2s ease;
      border-radius: 70%;
    }

    .chatting-enable button:active {
      background-color: rgb(37, 170, 242);
      box-shadow: 0 0 2px darkslategray;
      transform: translateY(2px);
    }

    /* Ï±ÑÌåÖ ÌôúÏÑ±Ìôî Î≤ÑÌäº */
    .chatting-floating {
      left: 32px;
      bottom: 24px;
      position: absolute;
      z-index: 100;
    }

    /* ÌïòÎã® Ïª®Ìä∏Î°§Îü¨ Í¥ÄÎ†® CSS */
    .controller {
      background-color: #c2c2c2;
      color: white;
      border: none;
      padding: 5px;
      height: 48px;
      width: 462px;
      cursor: pointer;
      position: absolute;
      box-shadow: 0 2px 4px darkslategray;
      border-radius: 64px;
      left: calc(50% - 215px);
      bottom: 24px;
    }

    .controller-charactor {
      font-size: 32px;
      position: absolute;
      left: 32px;
    }

    .controller-charactor:hover {
      background-color: #ffffff;
      border-radius: 40%;
      padding: 2px;
    }

    .controller-text {
      font-size: 22px;
      color: black;
      position: absolute;
      text-align: center;
      top: 14px;
      left: 96px;
      right: 288px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .controller-text:hover {
      background-color: #ffffff;
      border-radius: 16px;
    }

    .controller-camera {
      width: 43px;
      height: 43px;
      position: absolute;
      right: 224px;
      font-size: 32px;
    }

    .controller-camera:hover {
      background-color: #ffffff;
      border-radius: 40%;
      padding: 2px;
    }

    .controller-camera-status {
      width: 43px;
      height: 43px;
      position: absolute;
      right: 224px;
      font-size: 32px;
      pointer-events: none;
    }

    .controller-mike {
      width: 43px;
      height: 43px;
      position: absolute;
      right: 160px;
      font-size: 32px;
    }

    .controller-mike:hover {
      background-color: #ffffff;
      border-radius: 40%;
      padding: 2px;
    }

    .controller-mike-status {
      width: 43px;
      height: 43px;
      position: absolute;
      right: 160px;
      font-size: 32px;
      pointer-events: none;
    }

    .controller-setting {
      width: 43px;
      height: 43px;
      position: absolute;
      right: 96px;
      font-size: 32px;
    }

    .controller-setting:hover {
      background-color: #ffffff;
      border-radius: 40%;
      padding: 2px;
    }

    .controller-minimap {
      width: 43px;
      height: 43px;
      position: absolute;
      right: 32px;
      font-size: 32px;
    }

    .controller-minimap:hover {
      background-color: #ffffff;
      border-radius: 40%;
      padding: 2px;
    }

    /* NameDialog Í¥ÄÎ†® CSS */
    .nameDialog {
      position: absolute;
      top: 45%;
      width: 200px;
      height: fit-content;
      border-radius: 20px;
      border-color: #48abe0;
    }

    .nameDialog-close {
      width: 28px;
      height: 28px;
      position: absolute;
      right: 8px;
    }

    /* Video Í¥ÄÎ†® CSS  */
    .video-parent {
      display: table;
      width: 100%;
      position: absolute;
      top: 0px;
    }

    .video-parent-inner {
      display: table-cell;
      text-align: center;
      vertical-align: middle;
    }

    .video-parent-content {
      display: inline-block;
    }

    .video-div {
      text-align: center;
      float: left;
      width: 180px;
      height: 120px;
      border-radius: 16px;
      background-color: white;
      /* border: 0.5px solid grey; */
      border: 4px solid #48abe0;
      margin: 8px;
    }

    .video {
      border-radius: 8px;
      width: 100%;
      height: 100%;
    }

    .video-status {
      position: relative;
      bottom: -8px;
      border-radius: 16px;
      background-color: rgba(255, 255, 255, 0.7);
      font-size: 20px;
    }
  </style>

  <body id="game-root">
    <div class="video-parent">
      <div class="video-parent-inner">
        <!-- ÎπÑÎîîÏò§ Î¶¨Ïä§Ìä∏ -->
        <div class="video-parent-content">
          <!-- ÎπÑÎîîÏò§ div -->
          <div class="video-div">
            <video class="video"></video>
            <div class="video-status">cam: ‚ùå mike: ‚úîÔ∏è</div>
          </div>
          <div class="video-div">
            <video class="video"></video>
            <div class="video-status">cam: ‚ùå mike: ‚úîÔ∏è</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ïù¥Î¶Ñ Î≥ÄÍ≤Ω Dialog  -->
    <dialog id="nameDialog" class="nameDialog">
      <form method="dialog">
        <button id="nameDialog-close" class="nameDialog-close">X</button>
      </form>
      <h2>ÎãâÎÑ§ÏûÑ Î≥ÄÍ≤Ω</h2>
      <input
        id="nameDialog-input"
        type="text"
        placeholder="Enter your name(max: 6)"
        maxlength="6"
        style="margin-bottom: 16px; width: 100%"
      />
      <form method="dialog">
        <button id="nameDialog-ok" style="width: 100%">ÌôïÏù∏</button>
      </form>
    </dialog>

    <!-- Ï±ÑÌåÖ ÌôúÏÑ±Ìôî Î≤ÑÌäº -->
    <div class="chatting-enable">
      <button id="chatting-open" class="chatting-floating">üí¨</button>
    </div>
    <div class="controller">
      <!-- üçéüçìüçâüçêüçäüçã -->
      <div id="character-button" class="controller-charactor">üçé</div>
      <div id="name-button" class="controller-text">Name</div>
      <div id="camera-button" class="controller-camera">üì∑</div>
      <div id="mike-button" class="controller-mike">üé§</div>
      <div id="setting-button" class="controller-setting">‚öôÔ∏è</div>
      <div id="minimap-button" class="controller-minimap">üó∫Ô∏è</div>
      <div id="camera-status" class="controller-camera-status">‚ùå</div>
      <div id="mike-status" class="controller-mike-status">‚ùå</div>
    </div>

    <!-- Ï±ÑÌåÖ ÏòÅÏó≠  -->
    <section id="chatting-container" class="msger">
      <button id="chatting-close" class="close">X</button>
      <div id="chatting-list" class="msger-chat"></div>
      <form id="chatting-form" class="msger-inputarea">
        <button class="msger-change-btn">Ï†ÑÏ≤¥</button>
        <input
          id="chatting-input"
          type="text"
          class="msger-input"
          placeholder="Enter your message..."
        />
      </form>
    </section>
  </body>
</html>
